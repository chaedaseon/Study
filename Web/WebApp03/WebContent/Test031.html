<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test031.html</title>
<style type="text/css">
	@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@200;400;700&display=swap');

	* {font-weight: bold; font-family: 'Noto Sans KR'}
	.tbl {font-size: 15pt;}
	#memberList {font-size: 13pt; text-align: center;}
	.btn
	{
		font-size: 13pt;
		color: #ffa6b5; 
		background-color: white;
		border-radius: 5px;
		border-width: thin;
		border-color: #ffc8c8;
	}
	.btn:active {background-color: #ffa6b5; color: white;}
	
</style>

<script type="text/javascript">

	// select 를 다루어보기 위한 테스트 함수 정의
	function selectTest()
	{
		// 확인
		//alert("함수 호출~!!!");
		
		// 첫 번째 방법
		/*
		var positionStr = document.getElementById("userPosition").value;
		
		// 확인
		//alert(positionStr);
		//--==>> bgt(사원)
		*/
		
		// 두 번째 방법
		/*
		var positionObj = document.getElementById("userPosition");
		var positionOptions = positionObj.options;
		var positionMsg = "";
		
		// 확인
		//alert(positionOptions);
		//--==>> [object HTMLOptionsCollection] → 자바스크립트 배열
		
		//alert(positionOptions.length);
		//--==>> 4
		
		for (var i=0; i<positionOptions.length; i++)	// 0 1 2 3
		{
			// 확인
			//alert(positionOptions[i].selected);
			//--==>> 선택된 옵션 항목에 따라 true / false 형태로 확인
			
			if (positionOptions[i].selected)
			{
				// 확인
				//alert(i);
				
				// 단일 선택				
				positionMsg = positionOptions[i].value;
				break;
				
				// 다중 선택
				//positionMsg += positionOptions[i].value + " ";
			}
		}
		
		// 확인
		//alert(positionMsg);
		//--==>> cde(대리)
		*/
		
		// 세 번째 방법
		/*
		var positionObj = document.getElementById("userPosition");
		
		// 확인
		//alert(positionObj.selectedIndex);
		//--==>> 부장→0, 과장→1, 대리→2, 사원→3
		
		// 확인
		//alert(positionObj.options[2].value);
		//--==>> 대리
		//alert(positionObj.options[0].value);
		//--==>> 부장
		
		
		positionMsg = positionObj.options[positionObj.selectedIndex].value;
		
		// 확인
		//alert(positionMsg);
		*/	
	}
	
	function addMember()
	{	
		var tableNode = document.getElementById("memberList");		
		var trNode = document.createElement("tr");
		
		var nameStr = document.getElementById("userName").value;
		var ssnStr = document.getElementById("userSsn").value;
		var basicpayStr = document.getElementById("userBasicPay").value;
		
		if (nameStr == "" || ssnStr == "" || basicpayStr == "")
		{
			alert("항목을 채워주세요.");
			return;
		}
		
		// 첫 번째 방법
		/*
		var positionStr = document.getElementById("userPosition").value;
		var cityStr = document.getElementById("userCity").value;
		var departmentStr = document.getElementById("userDepartment").value;	
		
		trNode.appendChild(createTdNode(document.getElementById("userName").value));
		trNode.appendChild(createTdNode(document.getElementById("userSsn").value));
		trNode.appendChild(createTdNode(document.getElementById("userCity").value));
		trNode.appendChild(createTdNode(document.getElementById("userDepartment").value));
		trNode.appendChild(createTdNode(document.getElementById("userPosition").value));
		trNode.appendChild(createTdNode(document.getElementById("userBasicPay").value));
		*/
		
		
		// 두 번째 방법
		/*
		var positionObj = document.getElementById("userPosition");
		var positionOptions = positionObj.options;
		var positionMsg = "";
		
		for (var i=0; i<positionOptions.length; i++)	// 0 1 2 3
		{			
			if (positionOptions[i].selected)
			{								
				positionMsg = positionOptions[i].value;
				break;
			}
		}
		
		var cityObj = document.getElementById("userCity");
		var cityOptions = cityObj.options;
		var cityMsg = "";
		
		for (var i=0; i<cityOptions.length; i++)	// 0 1 2 3
		{			
			if (cityOptions[i].selected)
			{								
				cityMsg = cityOptions[i].value;
				break;
			}
		}
		
		var departmentObj = document.getElementById("userDepartment");
		var departmentOptions = departmentObj.options;
		var departmentMsg = "";
		
		for (var i=0; i<departmentOptions.length; i++)	// 0 1 2 3
		{			
			if (departmentOptions[i].selected)
			{								
				departmentMsg = departmentOptions[i].value;
				break;
			}
		}
		
		trNode.appendChild(createTdNode(document.getElementById("userName").value));
		trNode.appendChild(createTdNode(document.getElementById("userSsn").value));
		trNode.appendChild(createTdNode(cityMsg));
		trNode.appendChild(createTdNode(departmentMsg));
		trNode.appendChild(createTdNode(positionMsg));
		trNode.appendChild(createTdNode(document.getElementById("userBasicPay").value));
		*/
		
		
		// 세 번째 방법
		
		var positionObj = document.getElementById("userPosition");
		var positionMsg = positionObj.options[positionObj.selectedIndex].value;
		
		var cityObj = document.getElementById("userCity");
		var cityMsg = cityObj.options[cityObj.selectedIndex].value;
		
		var departmentObj = document.getElementById("userDepartment");
		var departmentMsg = departmentObj.options[departmentObj.selectedIndex].value;
		
		trNode.appendChild(createTdNode(document.getElementById("userName").value));
		trNode.appendChild(createTdNode(document.getElementById("userSsn").value));
		trNode.appendChild(createTdNode(cityMsg));
		trNode.appendChild(createTdNode(departmentMsg));
		trNode.appendChild(createTdNode(positionMsg));
		trNode.appendChild(createTdNode(document.getElementById("userBasicPay").value));		
		
		
		// 테이블 노드에 trNode 추가
		tableNode.appendChild(trNode);
		
		// 입력 결과버튼을 누른 후 입력 창을 자동 리셋 시켜주기!
		formClear();											// check~!!!
		
		//document.getElementById("listForm").reset();			// check~!!! → <form id="listForm"></form> 일 경우
		document.forms[0].reset();								// check~!!! → <form></form> 일 경우 (id가 없는 경우)
		
		document.getElementById("userName").focus();			// check~!!! → 입력창이 리셋된 후 커서가 자동으로 맨 처음줄로
		
	}
	
	
	function createTdNode(val)
	{
		var textNode = document.createTextNode(val);
		var tdNode = document.createElement("td");
		tdNode.appendChild(textNode);
		
		return tdNode;
	}
	
	
	// 직원 추가 버튼을 누르면 입력창을 리셋하는 함수
	function formClear()
	{
		document.getElementById("userName").value="";
		document.getElementById("userSsn").value="";
		var cityObj = document.getElementById("userCity").value;
		cityObj[0].selected = true;
		var departmentObj = document.getElementById("userDepartment").value;
		departmentObj[3].selected = true;
		var positionObj = document.getElementById("userPosition").value;
		positionObj[3].selected = true;
		document.getElementById("userBasicPay").value="";		
	}

</script>
</head>
<body>

<div>
	<h1>자바스크립트 활용</h1>
	<hr>
</div>

<div>
	<h2>선택목록(select) 다루기</h2>
	
	<form>
		<table class="tbl" >
			<tr>
				<td>이름</td>
				<td>
					<input type="text" id="userName" placeholder="ex) 홍길동">
				</td>
			</tr>
			<tr>
				<td>주민번호</td>
				<td>
					<input type="text" id="userSsn" placeholder="xxxxxx-xxxxxxx">
				</td>
			</tr>
			<tr>
				<td>지역</td>
				<td>
					<!-- <input type="text" id="userCity"> -->
					<select id="userCity">
						<option value="1123(서울)">서울</option>
						<option value="3328(대전)">대전</option>
						<option value="4239(광주)">광주</option>
						<option value="5832(대구)">대구</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>부서</td>
				<td>
					<!-- <input type="text" id="userDepartment"> -->
					<select id="userDepartment">
						<option value="9987(개발부)">개발부</option>
						<option value="9986(인사부)">인사부</option>
						<option value="9985(자재부)">자재부</option>
						<option value="9984(영업부)" selected="selected">영업부</option>
						<option value="9983(총무부)" >총무부</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>직위</td>
				<td>
					<!-- <input type="text" id="userPosition"> -->
					<select id="userPosition">
						<option value="zaq(부장)">부장</option>
						<option value="xsw(과장)">과장</option>
						<option value="cde(대리)">대리</option>
						<option value="bgt(사원)" selected="selected">사원</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>기본급</td>
				<td>
					<input type="text" id="userBasicPay">
				</td>
			</tr>
			<tr>
				<td colspan="2" style="text-align: center;">
					<input type="button" value="직원 추가" class="btn" style="width: 48%;" onclick="addMember()">
					<input type="reset" value = "입력 취소" class="btn" style="width: 48%;">				
				</td>
			</tr>
		</table>
		
		<br><br>
		
		<table id="memberList" border="1">
			<tr>
				<td>이름</td>
				<td>주민번호</td>
				<td>지역</td>
				<td>부서</td>
				<td>직위</td>
				<td>기본급</td>			
			</tr>		
		</table>		
		
	</form>	
</div>

</body>
</html>